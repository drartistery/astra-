!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2d9f0623-a7b4-4b42-9888-d630fe342d57",e._sentryDebugIdIdentifier="sentry-dbid-2d9f0623-a7b4-4b42-9888-d630fe342d57")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d5236f02"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7946],{6088:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(88263),a=n(71117);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M8.47 11.47a.75.75 0 0 0 0 1.06l6 6a.75.75 0 1 0 1.06-1.06L10.06 12l5.47-5.47a.75.75 0 0 0-1.06-1.06l-6 6Z",clipRule:"evenodd"})}))}},10342:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{_:()=>r})},14389:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return n(73865)}])},23076:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(88263),a=n(71117);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M8 1.25a.75.75 0 0 1 .75.75v1.25h6.5V2a.75.75 0 0 1 1.5 0v1.25H19A2.75 2.75 0 0 1 21.75 6v14A2.75 2.75 0 0 1 19 22.75H5A2.75 2.75 0 0 1 2.25 20V6A2.75 2.75 0 0 1 5 3.25h2.25V2A.75.75 0 0 1 8 1.25Zm-.75 3.5H5c-.69 0-1.25.56-1.25 1.25v3.25h16.5V6c0-.69-.56-1.25-1.25-1.25h-2.25V6a.75.75 0 0 1-1.5 0V4.75h-6.5V6a.75.75 0 0 1-1.5 0V4.75Zm13 6H3.75V20c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25v-9.25Z",clipRule:"evenodd"})}))}},24655:(e,t,n)=>{"use strict";n.d(t,{Dx:()=>P,H7:()=>E,Qz:()=>U,lf:()=>H,r5:()=>I,y0:()=>A});var r=n(17844),i=n(12584),o=n(41114),a=n(86997),l=n(50175),c=n(51026),s=n(11725),u=n(19842),d=n(23718);function p(){var e=(0,i._)(["\n  fragment GitHubImportFormRepl on Repl {\n    id\n    url\n    ...CreateReplFormRepl\n  }\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,i._)(["\n  fragment GitHubAppInstallation on GitHubUserInstallations {\n    id\n    name\n    type\n    repositorySelection\n  }\n"]);return h=function(){return e},e}function g(){var e=(0,i._)(["\n  fragment RepositoryResult on Repository {\n    id\n    isPrivate\n    name\n    description\n    updatedAt\n    url\n    ownerName\n    repl {\n      id\n      timeCreated\n      ...ReplLinkRepl\n    }\n    primaryLanguage {\n      id\n      name\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function f(){var e=(0,i._)(["\n  query GitHubImportForm {\n    currentUser {\n      id\n      ...CreateReplFormCurrentUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,i._)(["\n  query GitHubAppInstallations {\n    currentUser {\n      id\n      gitHubInfo {\n        installations {\n          ...GitHubAppInstallation\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function b(){var e=(0,i._)(["\n  mutation GitHubImportFormImportGitHubRepo($input: ImportGithubRepoInput!) {\n    importGithubRepo(input: $input) {\n      ... on Repl {\n        id\n        ...GitHubImportFormRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function v(){var e=(0,i._)(["\n  query RepositorySearch($input: RepositorySearchInput!) {\n    githubRepoSearch(input: $input) {\n      ... on RepositoryConnection2 {\n        items {\n          ...RepositoryResult\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function w(){var e=(0,i._)(["\n  query GitHubRepoInfo($input: GitHubRepoInfoInput!) {\n    githubRepoInfo(input: $input) {\n      ... on GitHubRepoInfoOutput {\n        repository {\n          ...RepositoryResult\n        }\n        recommendedTemplate {\n          ...TemplateSelector2Repl\n        }\n        canBeImported {\n          explanation\n        }\n        isConfiguredForReplit\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}var y={},_=(0,o.J1)(p(),u.r6),S=(0,o.J1)(h()),R=(0,o.J1)(g(),s.r),Y=(0,o.J1)(f(),u._9);function A(e){var t=(0,r._)({},y,e);return a.I(Y,t)}var x=(0,o.J1)(m(),S);function I(e){var t=(0,r._)({},y,e);return a.I(x,t)}var C=(0,o.J1)(b(),_);function E(e){var t=(0,r._)({},y,e);return l.n(C,t)}var k=(0,o.J1)(v(),R);function U(e){var t=(0,r._)({},y,e);return a.I(k,t)}var D=(0,o.J1)(w(),R,d.n);function P(e){var t=(0,r._)({},y,e);return a.I(D,t)}function H(e){var t=(0,r._)({},y,e);return c._(D,t)}},30314:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(5204),i=n(89770),o=n(21462);function a(e,t){let n=null==t?void 0:t.isDisabled,[a,l]=(0,o.useState)(!1);return(0,i.N)(()=>{if((null==e?void 0:e.current)&&!n){let t=()=>{e.current&&l(!!(0,r.N$)(e.current,{tabbable:!0}).nextNode())};t();let n=new MutationObserver(t);return n.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),!n&&a}},31475:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(29935),i=n(82643),o=n(71115),a=n(21462),l=n(93369),c=n(95139);function s(e){var t=e.onAuth,n=e.onClose,s=(0,a.useRef)(null),u=(0,a.useRef)([]),d=(0,l.A)(t),p=(0,l.A)(void 0===n?function(){}:n),h=(0,o.useRouter)(),g=(0,c.Po)(h),f=function(){u.current.forEach(function(e){return e()}),u.current=[]};return(0,a.useEffect)(function(){return function(){f(),s.current&&s.current.close()}},[]),(0,a.useCallback)(function(){var e,t=(e=(0,r._)(function(e){return(0,i.YH)(this,function(t){return(e.origin===window.location.origin||"https://replit.com"===e.origin||"https://repl.it"===e.origin)&&"authenticated"===e.data&&(f(),s.current&&s.current.close(),d.current()),[2]})}),function(t){return e.apply(this,arguments)}),n=setInterval(function(){var e;(null==(e=s.current)?void 0:e.closed)&&(clearInterval(n),f(),p.current())},100);u.current.push(function(){window.removeEventListener("message",t),clearInterval(n)}),g?s.current=window.open("/mobile/auth/github/app_permissions"):s.current=window.open("/auth/github/app_permissions?close=1"),window.addEventListener("message",t)},[d,p,g])}},37039:(e,t,n)=>{"use strict";n.d(t,{d:()=>S});var r=n(83846),i=n(88263),o=n(29542),a=n.n(o),l=n(21462),c=n(45263),s=n(42425),u=n(64583),d=n(973),p=n(48521),h=n(38292),g=n(36112),f=n(76126),m=n(10429),b=n(83650),v=n(71117),w=(0,u.x)({bannerTextWrapper:[p.wp.flex.growAndShrink(1)],anchor:[p.wp.reset.button,p.wp.rowWithGap(16),p.wp.center,p.wp.flex.growAndShrink(1),(0,r._)({},p.$_.max("mobileMax"),[p.wp.rowWithGap(8)])],bView:[p.wp.reset.button,p.wp.rowWithGap(16),p.wp.center,p.wp.flex.growAndShrink(1),p.wp.cursor.pointer,(0,r._)({},p.$_.max("mobileMax"),[p.wp.rowWithGap(8)])],closeIcon:[p.wp.flex.grow(0),{background:"transparent"}]}),y=m.D.a,_=m.D.button,S=(0,l.forwardRef)(function(e,t){var n=e.className,r=e.colorway,o=e.closable,l=e.iconLeft,u=e.iconRight,S=e.title,R=e.text,Y=e.closeAction,A=e.textAlign,x={title:[p.wp.fontWeight.bold,p.wp.pb(4),A?p.wp.textAlign[A]:p.wp.textAlign.center],text:[p.wp.flex.growAndShrink(1),A?p.wp.textAlign[A]:p.wp.textAlign.center]},I=(0,i.FD)(i.FK,{children:[(0,i.Y)(v.Z_,{size:16,children:l}),(0,i.FD)(m.S,{css:w.bannerTextWrapper,children:[S?(0,i.Y)(f.EY,{css:x.title,variant:"text",children:S}):null,(0,i.Y)(f.EY,{css:x.text,variant:"small",children:R})]}),(0,i.Y)(v.Z_,{size:16,children:u})]}),C=r?c.ky[r].default:c.LU.accentPrimaryDefault,E=[p.wp.rowWithGap(4),p.wp.align.center,S?p.wp.p(8):p.wp.p(4),p.wp.pl(8),p.wp.borderRadius(),p.wp.flex.growAndShrink(1),r?(0,s.KU)(r):d.b.filledAndOutlined,{"&:focus-within":{boxShadow:"0 0 0 2px "+C}}];return(0,i.FD)(m.S,{css:E,children:["href"in e?(0,i.Y)(a(),{legacyBehavior:!0,as:e.as,href:e.href,passHref:!0,prefetch:e.prefetch,replace:e.replace,scroll:e.scroll,shallow:e.shallow,children:(0,i.Y)(y,{ref:t,className:n,rel:e.rel,role:"link",target:e.target,css:w.anchor,children:I})}):(0,i.Y)(_,{ref:t,className:n,onClick:e.onClick,type:e.type,css:w.bView,children:I}),o?(0,i.Y)(g.ui,{elevated:!0,css:w.closeIcon,children:(0,i.Y)(h.K0,{alt:"Close",tooltipBehavior:"hidden",colorway:r,onClick:Y,children:(0,i.Y)(b.A,{})})}):null]})});S.displayName="StatusBannerButton"},63869:(e,t,n)=>{"use strict";n.d(t,{Q:()=>h});var r=n(88263),i=n(17844),o=n(93629),a=n(71117),l=n(93333),c=n(23076),s=n(68868),u=n(6054),d=n(51705),p=n(22318),h=[{title:"Local landmarks map",prompt:"Make an app that displays a map of local landmarks based on the current viewable area of the map. Use Wikipedia to get the landmarks.",image:"/public/images/agent-demo-gallery/landmark-map.png",tags:["education"],icon:(0,r.Y)(d.A,{})},{title:"Stock analysis",prompt:"I want to input a stock symbol and get a summary of financial data. Give me a table and a chart tracking the stock price and other key financial information. Use data from Yahoo finance. Let me download the table data as a CSV.",image:"/public/images/agent-demo-gallery/stock-analysis.png",tags:["finance"],icon:(0,r.Y)(function(e){return(0,r.Y)(a.Ay,(0,o._)((0,i._)({},e),{children:(0,r.Y)("path",{fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75Zm6 6a.75.75 0 0 1 .75.75v10a.75.75 0 0 1-1.5 0V10a.75.75 0 0 1 .75-.75Zm-12 4a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))},{})},{title:"Waitlist website",prompt:"Build a waitlist site with React for my startup which collects emails and full names from users. Include some basic information about my startup. Make the design of the site modern and professional. Use a database on Replit to store the registrations.",image:"/public/images/agent-demo-gallery/startup-waitlist.png",tags:["social"],icon:(0,r.Y)(c.A,{})},{title:"AI chat",prompt:"Make an AI chat application using OpenAI. Let the user enter their username when they join for the first time.",image:"/public/images/agent-demo-gallery/ai-chat-app.png",tags:["productivity"],icon:(0,r.Y)(s.A,{})},{title:"Book scanner",prompt:"I want to upload an image of my bookshelf and get a list of all of the books in the picture along with some details.",image:"/public/images/agent-demo-gallery/book-scanner.png",tags:["productivity"],icon:(0,r.Y)(l.A,{})},{title:"Link in bio",prompt:"Make a link in bio app which presents all my social accounts in an easy, intuitive, and aesthetic interface. Use a random image for a profile picture placeholder for now.",image:"/public/images/agent-demo-gallery/link-in-bio.png",tags:["social"],icon:(0,r.Y)(p.A,{})},{title:"Statistical significance calculator",prompt:"Make a web app which lets me input information from an A/B test and tells me whether its statistically significant",image:"/public/images/agent-demo-gallery/statistical-significance-calculator.png",tags:["data"],icon:(0,r.Y)(u.A,{})}]},68868:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(17844),i=n(93629),o=n(88263),a=n(71117);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M5 3.75A1.25 1.25 0 0 0 3.75 5v14.19l2.72-2.72a.75.75 0 0 1 .53-.22h12A1.25 1.25 0 0 0 20.25 15V5A1.25 1.25 0 0 0 19 3.75H5Zm-1.945-.695A2.75 2.75 0 0 1 5 2.25h14A2.75 2.75 0 0 1 21.75 5v10A2.75 2.75 0 0 1 19 17.75H7.31l-3.78 3.78A.75.75 0 0 1 2.25 21V5c0-.73.29-1.429.805-1.945Z",clipRule:"evenodd"})}))}},73865:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>e7});var r=n(12694),i=n(88263),o=n(71115),a=n(21462),l=n(17844),c=n(12584),s=n(41114),u=n(86997);function d(){var e=(0,c._)(["\n  query NewPage($language: String!) {\n    language(id: $language) {\n      id\n      templateRepl {\n        id\n      }\n    }\n  }\n"]);return d=function(){return e},e}var p={},h=(0,s.J1)(d()),g=n(29935),f=n(93629),m=n(17459),b=n(82643),v=n(19842),w=n(54319),y=n(76095),_=n(83846),S=n(86105),R=n(27469),Y=n(74489),A=n(90629),x=n(24655),I=n(35084),C=n(16564),E=n(64207),k=n(95350),U=n(87290),D=n(94077),P=n(74946),H=n(94045),T=n(37123),F=n(97239),L=n(31475),G=n(34384),N=n(39101),O=n(61471),B=n(25804),M=n(53231),z=n(33593),W=n(75176),V=n(45263),Z=n(64583),K=n(973),$=n(48521),j=n(46603),q=n(39999),J=n(38292),X=n(77089),Q=n(39328),ee=n(81526),et=n(54087),en=n(37039),er=n(90395),ei=n(76126),eo=n(9969),ea=n(59172),el=n(10429),ec=n(74108),es=n(96283),eu=n(85233),ed=n(37037),ep=n(4983),eh=n(18870),eg=n(59655),ef=n(3694),em=n(83023),eb=n(98739),ev=n(22318),ew=n(80762),ey=n(45149),e_=n(86814),eS=n(69258),eR="__ADD_GITHUB_ACCOUNT__",eY=[{title:"Add GitHub Account",value:eR,icon:(0,i.Y)(e_.A,{})}],eA=(0,Z.x)({statusBanner:[$.wp.p(8),$.wp.textAlign.left]});function ex(e){var t=e.message;return null===t?null:t.onClick?(0,i.Y)(en.d,{text:t.text,iconLeft:(0,i.Y)(eS.A,{}),colorway:"error"===t.level?"negative":"warning",css:eA.statusBanner,onClick:t.onClick}):(0,i.Y)(et.N,{text:t.text,icon:(0,i.Y)(eS.A,{}),colorway:"error"===t.level?"negative":"warning",css:eA.statusBanner})}var eI=(0,Z.x)({limitMeter:[$.wp.minWidth(240)],importButtonContainer:[(0,_._)({},$.$_.max("mobileMax"),[$.wp.colWithGap(8)])]}),eC=$.wp.height(230);function eE(e){var t,n=e.repo;return(0,i.FD)(el.S,{gap:8,children:[(0,i.FD)(el.S,{row:!0,gap:8,justify:"space-between",children:[(0,i.Y)(ei.EY,{variant:"small",children:n.name}),(0,i.FD)(ei.EY,{color:"dimmer",variant:"small",children:["Updated ",(0,eo.ie)({date:n.updatedAt})]})]}),(null==(t=n.description)?void 0:t.length)?(0,i.Y)(ei.EY,{color:"dimmer",variant:"small",children:n.description}):null,n.primaryLanguage?(0,i.Y)(ei.EY,{color:"dimmer",variant:"small",children:n.primaryLanguage.name}):null]})}var ek=(0,Z.x)({label:[$.wp.flex.growAndShrink(1),K.b.nofill,$.wp.border({width:1,color:"transparent"}),$.wp.borderRadius(0),(0,_._)({},(0,es.wm)("mobileMax"),[$.wp.colWithGap(4)])],replLink:[$.wp.linkStyle,$.wp.fontSize(12)]});function eU(e){var t=e.id,n=e.isSelected,r=e.repo;return(0,i.Y)(eD,{children:(0,i.FD)(el.S,{p:8,children:[(0,i.Y)(R.s,{children:(0,i.Y)(Q.s,{id:t,value:t})}),(0,i.FD)(el.S,{row:!0,justify:"space-between",align:"center",children:[(0,i.Y)(ea.m_,{maxWidth:300,tooltip:(0,i.Y)(eE,{repo:r}),children:(0,i.FD)(el.S,{row:!0,gap:4,align:"center",children:[(0,i.Y)(ei.EY,{children:r.name}),r.isPrivate?(0,i.Y)(ey.A,{size:12}):null,(0,i.Y)(ei.EY,{color:"dimmer",children:(0,eo.ie)({date:r.updatedAt})}),r.repl?(0,i.FD)(i.FK,{children:[(0,i.Y)(ei.EY,{color:"dimmer",variant:"small",children:"\xb7"}),(0,i.FD)(ei.EY,{color:"dimmer",variant:"small",children:["Imported on"," ",new Date(r.repl.timeCreated).toLocaleDateString()]}),(0,i.Y)(ec.Ay,{repl:r.repl,children:(0,i.Y)("a",{css:ek.replLink,children:"Open"})})]}):null]})}),n?(0,i.Y)(eh.A,{}):null]})]})})}function eD(e){var t=e.children,n=(0,Y.Y0)().isFocusVisible;return(0,i.Y)("label",{css:[ek.label,n&&{"&:focus-within":{borderColor:"foregroundDefault",backgroundColor:V.LU.backgroundHigher}}],children:t})}var eP=(0,Z.x)({noReposFoundContainer:[eC,$.wp.colWithGap(8),$.wp.align.center,$.wp.justify.center],container:[{overflowAnchor:"none"},eC,$.wp.flex.column,$.wp.scrollbar.hidden,$.wp.overflowY("scroll"),$.wp.position.relative],loadingContainer:[$.wp.height(40),$.wp.align.center,$.wp.justify.center],loadMoreContainer:[$.wp.center]});function eH(e){var t=e.loading,n=e.selectedRepo,r=e.setSelectedRepo,o=e.repositories,l=e.canLoadNextPage,c=e.loadNextPage,s=(0,a.useId)(),u=(0,O.A)({onLoadMore:c,rootMargin:"0px 0px 300px 0px"}).targetRef;return t||0!==o.length?(0,i.FD)(el.S,{css:eP.container,children:[(0,i.Y)(Q.z,{tag:"fieldset",name:s,value:(null==n?void 0:n.id)||"",onChange:function(e){var t=e.target.value,n=o.find(function(e){return e.id===t});void 0!==n&&r(n)},children:o.map(function(e){return(0,i.Y)(eU,{id:e.id,repo:e,isSelected:(null==n?void 0:n.id)===e.id},e.id)})}),t?(0,i.Y)(el.S,{css:eP.loadingContainer,children:(0,i.Y)(ew.A,{})}):null,l?(0,i.Y)(el.S,{css:eP.loadMoreContainer,children:(0,i.Y)(J.K0,{tooltipBehavior:"hidden",alt:"Show more",onClick:c,ref:u,children:(0,i.Y)(eg.A,{})})}):null]}):(0,i.FD)(el.S,{css:eP.noReposFoundContainer,children:[(0,i.Y)(ei.EY,{children:"No repositories found"}),(0,i.Y)(ei.EY,{color:"dimmer",children:"Try selecting a different GitHub account or organization."})]})}var eT=(0,Z.x)({connectGitHubAccountContainer:[eC],container:[$.wp.height("100%"),{display:"grid",gridTemplateRows:"min-content 1fr"}],scopeAndSearchRow:[{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"8px"}]});function eF(e){var t,n,o,c,s,u,d=e.selectedRepo,p=e.setSelectedRepo,h=e.setHasGrantedAllPermissions,m=e.setMessage,v=(0,r._)((0,a.useState)(""),2),w=v[0],y=v[1],_=(0,r._)((0,a.useState)([]),2),R=_[0],Y=_[1],A=(0,x.r5)({onCompleted:function(e){var t,n,r=(null==(n=e.currentUser)||null==(t=n.gitHubInfo)?void 0:t.installations)||[];r.length>0&&(Y(r),y(r[0].id.toString()))}}),C=A.refetch,E=A.loading,k=R.map(function(e){return{title:e.name,value:e.id.toString()}}),U=(0,S._)(k).concat((0,S._)(eY)),D=R.find(function(e){return e.id.toString()===w});(0,a.useEffect)(function(){D&&h(D.repositorySelection===I.r$.All)},[D,h]);var P=(0,L.P)({onAuth:function(){C()}}),H=(0,r._)((0,a.useState)(""),2),T=H[0],F=H[1],G=(0,N.A)(T,500),O=(0,x.Qz)({ssr:!1,fetchPolicy:"network-only",nextFetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,skip:void 0===D,variables:{input:{gitHubOwner:{name:null==D?void 0:D.name,type:(null==D?void 0:D.type)==="Organization"?I.Lp.Organization:I.Lp.User},query:G,count:20}}}),B=(null==(n=O.data)?void 0:n.githubRepoSearch.__typename)==="RepositoryConnection2"?O.data.githubRepoSearch.items:[],M=(null==(o=O.data)?void 0:o.githubRepoSearch.__typename)==="RepositoryConnection2"&&O.data.githubRepoSearch.pageInfo.hasNextPage,z=(null==(c=O.data)?void 0:c.githubRepoSearch.__typename)==="ServiceUnavailable"||(null==(s=O.data)?void 0:s.githubRepoSearch.__typename)==="UserError"||(null==(u=O.data)?void 0:u.githubRepoSearch.__typename)==="UnauthorizedError"?O.data.githubRepoSearch.message:null,W=O.error?O.error:null;(0,a.useEffect)(function(){return W?void m({level:"error",text:"Something went wrong, try again later."}):z?void m({level:"error",text:z}):void 0},[W,z,m]);var V=(t=(0,g._)(function(){var e;return(0,b.YH)(this,function(t){switch(t.label){case 0:if(O.loading||(null==(e=O.data)?void 0:e.githubRepoSearch.__typename)!=="RepositoryConnection2"||!O.data.githubRepoSearch.pageInfo.hasNextPage||null==O.data.githubRepoSearch.pageInfo.nextCursor||void 0===D)return[2];return[4,O.fetchMore({variables:{input:{gitHubOwner:{name:D.name,type:"Organization"===D.type?I.Lp.Organization:I.Lp.User},query:G,count:20,after:O.data.githubRepoSearch.pageInfo.nextCursor}},updateQuery:function(e,t){var n=t.fetchMoreResult;if("RepositoryConnection2"!==n.githubRepoSearch.__typename)return n;var r="RepositoryConnection2"===e.githubRepoSearch.__typename?e.githubRepoSearch.items:[],i=(0,S._)(r).concat((0,S._)(n.githubRepoSearch.items));return(0,f._)((0,l._)({},n),{githubRepoSearch:(0,f._)((0,l._)({},n.githubRepoSearch),{items:i})})}})];case 1:return t.sent(),[2]}})}),function(){return t.apply(this,arguments)});return E||0!==R.length?(0,i.FD)(el.S,{css:eT.container,children:[(0,i.FD)(el.S,{css:eT.scopeAndSearchRow,p:8,children:[(0,i.Y)(eu.l,{disabled:E,selectedItem:U.find(function(e){return e.value===w}),items:U,onChange:function(e){if(e.value===eR)return void P();y(e.value),p(null)},"aria-label":"Search scope"}),(0,i.Y)(ee.I,{disabled:void 0===D,value:T,onChange:function(e){F(e.target.value),p(null)},onClear:function(){F("")}})]}),(0,i.Y)(eH,{loading:O.loading||E,selectedRepo:d,setSelectedRepo:p,repositories:B.map(function(e){return(0,f._)((0,l._)({},e),{repoSource:"installation"})}),loadNextPage:V,canLoadNextPage:!O.loading&&M})]}):(0,i.Y)(el.S,{css:eT.connectGitHubAccountContainer,align:"center",justify:"center",children:(0,i.Y)(j.$n,{onClick:function(){return P()},text:"Connect your GitHub account",colorway:"primary",variant:"outlined"})})}var eL=(0,Z.x)({container:[eC,{display:"grid",gridTemplateRows:"min-content 1fr",rowGap:V.LU.space8}],selectedRepoContainer:[$.wp.backgroundColor.backgroundHigher,$.wp.borderRadius(8),{alignSelf:"start"},$.wp.overflowX("scroll")],selectedRepoHeader:[$.wp.flex.wrap],messageContainer:[{alignSelf:"start"}]});function eG(e){var t=e.initialGitHubRepoUrl,n=e.selectedRepo,o=e.setSelectedRepo,c=(0,r._)((0,a.useState)(null!=t?t:""),2),s=c[0],u=c[1],d=(0,N.A)(s,500),p=(0,r._)((0,a.useState)(null),2),h=p[0],g=p[1],m=(0,L.P)({onAuth:function(){g(null),w()}}),b=(0,x.Dx)({ssr:!1,fetchPolicy:"network-only",nextFetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{input:{githubRepoUrl:d}},skip:0===d.length,onCompleted:function(e){"GitHubRepoInfoOutput"===e.githubRepoInfo.__typename?o((0,f._)((0,l._)({},e.githubRepoInfo.repository),{repoSource:t===s?"direct":"paste"})):"NotFoundError"===e.githubRepoInfo.__typename?(o(null),g({level:"error",text:"GitHub repository was not found or is set to private. Try a different link or updating GitHub permissions."})):"ServiceUnavailable"===e.githubRepoInfo.__typename||"UserError"===e.githubRepoInfo.__typename?(o(null),g({level:"error",text:e.githubRepoInfo.message})):"UnauthorizedError"===e.githubRepoInfo.__typename||"TooManyRequestsError"===e.githubRepoInfo.__typename?(o(null),g({level:"error",text:"Failed to get repository, click here to update your GitHub permissions.",onClick:function(){m()}})):(eW(Error("Unknown error")),o(null),g({level:"error",text:"Something went wrong, try again later."}))},onError:function(e){eW(e),o(null),g({level:"error",text:"Something went wrong, try again later."})}}),v=b.loading,w=b.refetch,y=(0,a.useId)();return(0,i.FD)(el.S,{css:eL.container,p:8,children:[(0,i.Y)(X.pd,{id:y,placeholder:"GitHub Repository URL",type:"text",value:s,onChange:function(e){g(null),u(e.target.value)},dataCy:"create-repl-dialog-import-from-github-input"}),v?(0,i.Y)(el.S,{align:"center",justify:"center",children:(0,i.Y)(ew.A,{})}):null,!v&&n?(0,i.FD)(el.S,{css:eL.selectedRepoContainer,p:8,gap:8,children:[(0,i.FD)(el.S,{css:eL.selectedRepoHeader,row:!0,justify:"space-between",children:[(0,i.FD)(el.S,{pr:8,row:!0,gap:8,align:"center",children:[(0,i.FD)(ei.EY,{multiline:!0,children:[n.ownerName,"/",n.name]}),(0,i.Y)(eh.A,{})]}),(0,i.Y)(q.v,{iconLeft:(0,i.Y)(em.A,{}),href:n.url,target:"_blank",rel:"noopener noreferrer",text:"View on GitHub",size:"small"})]}),(0,i.Y)(ei.EY,{color:"dimmer",children:null==n.description||0===n.description.length?"No description":n.description})]}):null,(0,i.Y)(el.S,{css:eL.messageContainer,children:(0,i.Y)(ex,{message:h})})]})}var eN=function(e){return e[e.GitHub=0]="GitHub",e[e.Url=1]="Url",e}(eN||{}),eO=(0,Z.x)({tabs:[$.wp.border({style:"solid"}),$.wp.borderRadius(8),$.wp.overflow("hidden"),{display:"grid",gridTemplateRows:"min-content 1fr"}],tabPanel:[$.wp.height("100%")],permissionsLink:[$.wp.linkStyle]});function eB(e){var t,n=e.initialGitHubRepoUrl,l=e.initialSelectedTeamOwnerId,c=e.initialGitBranch,s=e.currentUser,u=e.context,d=e.onCreated,p=e.onUpsell,h=e.refetchUser,f=(0,r._)((0,a.useState)(+!!n),2),m=f[0],v=f[1],w=(0,r._)((0,a.useState)(null),2),y=w[0],_=w[1],S=(0,r._)((0,a.useState)(!0),2),R=S[0],Y=S[1],A=(0,r._)((0,a.useState)(null),2),N=A[0],O=A[1],V=(0,G.ET)().orgId,Z=(0,r._)((0,P.p)(s,null!=l?l:V),3),K=Z[0],q=Z[1],J=Z[2],X=(0,a.useId)(),Q=(0,H.d)(K,void 0),ee=Q.isPrivate,et=Q.setIsPrivate,en=Q.privacyAuthz,eo=Q.isValidPrivacy,ea=(null==y?void 0:y.isPrivate)&&!en.privateRepl.isAuthorized&&"CurrentUser"===K.__typename,ec=(0,r._)((0,x.H7)(),2),es=ec[0],eu=ec[1].loading,eh=(0,r._)((0,x.lf)(),2),eg=eh[0],em=eh[1],ey=em.loading,e_=em.refetch,eS=(0,o.useRouter)(),eR=(0,z.A)(),eY=(0,B.pE)("folderId","string"),eA=(0,L.P)({onAuth:function(){O(null),e_()}});(0,a.useEffect)(function(){(0,M.u4)(M.AZ.NIX_GH_IMPORT_USED,{action:D.s.Visited,context:u,orgContext:(0,G.po)("Org"===K.__typename?{id:K.id}:void 0)})},[u,K]),(0,a.useEffect)(function(){if(O(null),null!==y){var e;(e=(0,g._)(function(){var e,t,n,r;return(0,b.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,eg({variables:{input:{githubRepoUrl:y.url,orgId:"Org"===K.__typename?K.id:void 0}}})];case 1:return e=(n=i.sent()).data,t=n.error,[3,3];case 2:return eW(i.sent()),O({level:"error",text:"Something went wrong, try again later."}),[2];case 3:if(t)return eW(t),O({level:"error",text:"Something went wrong, try again later."}),[2];if(!e)return eW(Error("Expected data to be defined")),O({level:"error",text:"Something went wrong, try again later."}),[2];if("GitHubRepoInfoOutput"===e.githubRepoInfo.__typename)switch(r=e.githubRepoInfo.canBeImported.explanation){case I.RZ.TooBig:O({level:"error",text:"This repository is too big to import. Choose another repository or upgrade to a subscription for more storage."});break;case I.RZ.ViolatesTos:O({level:"error",text:"This repository possibly violates our Terms of Service. Contact support if you believe this is a mistake."});break;case I.RZ.CanBeImported:break;default:(0,C.A)(r)}else"NotFoundError"===e.githubRepoInfo.__typename||"ServiceUnavailable"===e.githubRepoInfo.__typename||"UserError"===e.githubRepoInfo.__typename?O({level:"error",text:e.githubRepoInfo.message}):"UnauthorizedError"===e.githubRepoInfo.__typename?O({level:"error",text:"You do not have permission to access this repository. Try a different repository or click here to update your GitHub permissions.",onClick:function(){eA()}}):(eW(Error("Unknown response type")),O({level:"error",text:"Something went wrong, try again later."}));return[2]}})}),function(){return e.apply(this,arguments)})()}},[y,eg,eA,K]);var eC=function(){_(null),O(null)},eE=(t=(0,g._)(function(){var e,t,n;return(0,b.YH)(this,function(r){switch(r.label){case 0:if(null===y||ea)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,es({variables:{input:{githubRepoUrl:y.url,teamId:"Team"===K.__typename?K.id:void 0,orgId:"Org"===K.__typename?K.id:void 0,isPrivate:ee,folderId:eY,originId:void 0,activeReplReleaseId:void 0}}})];case 2:return t=r.sent(),[3,4];case 3:return eW(r.sent()),O({level:"error",text:"Something went wrong, try again later."}),[2];case 4:return(null==(e=t.data)?void 0:e.importGithubRepo.__typename)==="Repl"?((0,M.u4)(M.AZ.NIX_GH_IMPORT_USED,{action:D.s.ImportStarted,language:void 0,repoSource:y.repoSource,context:u,orgContext:(0,G.po)("Org"===K.__typename?{id:K.id}:void 0)}),n=t.data.importGithubRepo,d&&d(n),eS.push({pathname:eR,query:{replUrl:n.url,replId:n.id,importBranch:c,gitImport:!0}},{pathname:n.url,query:c?{importBranch:c}:void 0})):t.data?O({level:"error",text:t.data.importGithubRepo.message}):(eW(Error("Unknown error")),O({level:"error",text:"Something went wrong, try again later."})),[2]}})}),function(){return t.apply(this,arguments)}),ek=(0,T.g)(),eU="CurrentUser"===K.__typename&&K.id===s.id,eD=eU&&"data"===ek.type&&!ek.canCreateRepl,eP=p?(0,i.Y)(j.$n,{iconLeft:(0,i.Y)(ep.A,{}),text:"Upgrade to import private repositories",colorway:"primary",disabled:eu||ey,onClick:function(){(0,M.u4)(M.AZ.UPGRADE_SELECTED,{source:"import_github_modal"}),p(!0)}}):(0,i.Y)(W.A,{text:"Upgrade to import private repositories",colorway:"primary",context:"import_github_modal",disabled:eu||ey,onPlanCheckoutComplete:h});return(0,i.FD)(el.S,{tag:"form",onSubmit:function(e){eE(),e.preventDefault()},gap:16,children:[(0,i.FD)(el.S,{gap:8,children:[(0,i.FD)(er.tU,{onSelectionChange:function(e){v(e),eC()},selectedIndex:m,css:eO.tabs,children:[(0,i.FD)(er.wb,{children:[(0,i.Y)(er.oz,{iconLeft:(0,i.Y)(eb.A,{}),children:"My Repositories"}),(0,i.Y)(er.oz,{iconLeft:(0,i.Y)(ev.A,{}),children:"From URL"})]}),(0,i.FD)(er.T2,{children:[(0,i.Y)(er.Kp,{css:eO.tabPanel,children:(0,i.Y)(eF,{selectedRepo:y,setSelectedRepo:_,setHasGrantedAllPermissions:Y,setMessage:O})}),(0,i.Y)(er.Kp,{css:eO.tabPanel,children:(0,i.Y)(eG,{initialGitHubRepoUrl:n,selectedRepo:y,setSelectedRepo:_})})]})]}),(0,i.FD)(el.S,{css:[R?$.wp.visibility.hidden:null],row:!0,gap:4,children:[(0,i.FD)(ei.EY,{color:"dimmer",variant:"small",children:["Missing a repository?"," "]}),(0,i.Y)(el.S,{role:"link",onClick:eA,css:eO.permissionsLink,children:(0,i.FD)(ei.EY,{variant:"small",children:["Adjust GitHub App permissions ",(0,i.Y)(ed.A,{})]})})]}),(0,i.Y)(ex,{message:N})]}),J.length>1?(0,i.FD)(el.S,{gap:8,children:[(0,i.Y)("label",{htmlFor:X,children:"Owner"}),(0,i.Y)(U.A,{id:X,owners:J,selectedOwner:K,setSelectedOwner:q})]}):null,"Org"===K.__typename?(0,i.Y)(E.A,{org:K,isPrivate:ee,setIsPrivate:et,privacyAuthz:en}):(0,i.Y)(k.Z,{context:"create_repl_modal",isPrivate:ee,isTeam:"Team"===K.__typename,setIsPrivate:et,privacyAuthz:en,onUpsell:p}),(0,i.FD)(el.S,{css:eI.importButtonContainer,row:!0,gap:12,justify:"space-between",children:[(0,i.Y)(el.S,{css:eI.limitMeter,py:4,children:(0,i.Y)(F.g,{isIndividualOwner:eU,showUpgradeForm:function(){(0,M.u4)(M.AZ.UPGRADE_SELECTED,{source:"import_github_modal"}),null==p||p(!0)}})}),(0,i.Y)(el.S,{align:"center",justify:"center",children:ea?eP:(0,i.Y)(j.$n,{iconLeft:eu?(0,i.Y)(ew.A,{}):(0,i.Y)(ef.A,{}),colorway:"primary",stretch:!0,type:"submit",loading:eu||"loading"===ek.type,disabled:"loading"===ek.type||eD||eu||!y||(null==N?void 0:N.level)==="error"||!eo,text:"Import from GitHub",dataCy:"import-github-btn"})})]})]})}var eM=(0,Z.x)({loadingOrLogin:[$.wp.align.center,$.wp.justify.center]});function ez(e){var t=e.initialGitHubRepoUrl,n=e.initialSelectedTeamOwnerId,r=e.initialGitBranch,o=e.context,a=e.onCreated,l=e.onUpsell,c=(0,x.y0)(),s=c.data,u=c.loading,d=c.refetch,p=null==s?void 0:s.currentUser;return u?(0,i.Y)(el.S,{css:eM.loadingOrLogin,children:(0,i.Y)(ew.A,{})}):p?(0,i.Y)(eB,{initialGitBranch:r,initialGitHubRepoUrl:t,initialSelectedTeamOwnerId:n,currentUser:p,context:o,onCreated:a,onUpsell:l,refetchUser:d}):(0,i.Y)(el.S,{css:eM.loadingOrLogin,children:(0,i.Y)(ei.EY,{children:"Please log in"})})}function eW(e){A.v4(function(t){t.setTag("import-github-form",!0),A.Cp(e)})}var eV=n(64702),eZ=n(78448),eK=n(48006),e$=n(77958),ej=n(36112),eq="createMode",eJ=(0,Z.x)({container:[$.wp.colWithGap(16),$.wp.color.foregroundDefault],containerWithTabs:[$.wp.color.foregroundDefault],tabContainer:[$.wp.colWithGap(12)],tab:[$.wp.px(16),$.wp.py(12)],tabPanels:[$.wp.pt(16),$.wp.pb(12),$.wp.px(12)]});function eX(e){var t,n,o,c=e.className,s=(0,m._)(e,["className"]),u=(0,r._)((0,a.useState)(function(){if(void 0!==s.initialCreateMode)return s.initialCreateMode;var e=e$.A.get(eq);return e?parseInt(e,10):D.E.AI}),2),d=u[0],p=u[1],h=(0,r._)((0,a.useState)(!1),2),_=h[0],S=h[1],R=(0,r._)((0,a.useState)(null),2),Y=R[0],A=R[1],x=(0,v.In)({variables:{replId:null!=(o=s.initialSelectedReplId)?o:""},skip:!s.initialSelectedReplId}),I=(null==(t=x.data)?void 0:t.repl.__typename)==="Repl"?null==(n=x.data)?void 0:n.repl:void 0;(0,a.useEffect)(function(){I&&A(I)},[I]);var C=(0,T.g)(),E="data"===C.type&&C.shouldBlockReplForm,k=(0,eK.U)("(max-width: 640px)");return x.loading||I&&!Y?(0,i.Y)(ej.ui,{css:[$.wp.minHeight(250),$.wp.align.center,$.wp.justify.center,eJ.container],children:(0,i.Y)(ew.A,{})}):_||E?(0,i.Y)(eV.A,{onPurchaseComplete:(0,g._)(function(){return(0,b.YH)(this,function(e){return"data"===C.type&&C.refetch(),S(!1),[2]})}),onClose:function(){return S(!1)},shouldBlockReplForm:E,context:E?"create_repl_modal_limit_reached":"create_repl_modal"}):(0,i.Y)(ej.ui,{css:eJ.containerWithTabs,gap:16,className:c,children:(0,i.FD)(er.tU,{selectedIndex:d,onSelectionChange:function(e){p(e),e$.A.set(eq,e.toString())},css:eJ.tabContainer,children:[(0,i.FD)(er.wb,{withUnderline:!0,withDividers:!0,children:[(0,i.Y)(er.oz,{css:eJ.tab,children:k?(0,w.Nn)({variant:"formal"}):"Create with ".concat((0,w.Nn)({variant:"formal"}))}),(0,i.Y)(er.oz,{css:eJ.tab,"data-cy":"create-repl-dialog-template-tab",children:k?"Template":"Choose a Template"}),(0,i.Y)(er.oz,{css:eJ.tab,"data-cy":"create-repl-dialog-import-from-github-btn",children:k?"GitHub":"Import from GitHub"})]}),(0,i.FD)(er.T2,{css:eJ.tabPanels,children:[(0,i.Y)(er.Kp,{children:(0,i.Y)(eZ.v,{initialPrompt:s.initialPrompt,trackingSource:s.trackingSource,shouldAutoFocus:!0,onUpsell:function(){return S(!0)}})}),(0,i.Y)(er.Kp,{children:(0,i.Y)(y.A,(0,f._)((0,l._)({},s),{setSelectedTemplate:A,selectedTemplate:Y,onUpsell:S,trackingSource:"createDialog"}))}),(0,i.Y)(er.Kp,{children:(0,i.Y)(ez,{initialGitHubRepoUrl:s.initialGitHubRepo,initialSelectedTeamOwnerId:s.initialSelectedTeamOwnerId,initialGitBranch:s.initialGitBranch,context:s.trackingSource,onUpsell:S})})]})]})})}var eQ=n(79209),e0=n(16772),e1=function(e){return e.NOT_FOUND="NOT_FOUND",e.HACKER_PLAN_REQUIRED="HACKER_PLAN_REQUIRED",e.SIZE_LIMIT_EXCEEDED="SIZE_LIMIT_EXCEEDED",e.ERROR="ERROR",e}(e1||{}),e2=(0,eQ.i7)({"0%":{boxShadow:"0 0 0 0px transparent"},"20%":{boxShadow:"0 0 0 2px ".concat(V.LU.accentPrimaryDefault)},"80%":{boxShadow:"0 0 0 2px ".concat(V.LU.accentPrimaryDefault)},"100%":{boxShadow:"0 0 0 0px transparent"}}),e5=(0,Z.x)({container:[$.wp.pageContent,$.wp.colWithGap(16)],error:$.wp.pb(16),flashAnimation:[$.wp.borderRadius("container"),$.wp.overflow("hidden"),{animation:"".concat(e2," 2s ease-in-out")}]});let e7=function(){var e,t,n,c,s,d,g,f,m,b,v,w,y,_=(0,o.useRouter)(),S=(0,a.useRef)(null),R=(0,r._)((0,a.useState)(!1),2),Y=R[0],A=R[1],x=_.query,I=x.language?x.language.toString():void 0,C=x.template?x.template.toString():void 0,E=x.prompt?x.prompt.toString():void 0,k=x.githubRepo?x.githubRepo.toString():void 0,U=x.githubError?x.githubError.toString():void 0,P=(t=(e={tab:x.tab?x.tab.toString():void 0,githubRepo:k,githubError:U,language:I,template:C}).tab,n=e.githubRepo,c=e.githubError,s=e.language,d=e.template,"ai"===t?D.E.AI:"template"===t||s||d?D.E.Template:"github"===t||n||c?D.E.GitHub:void 0),H=(0,B.pE)("importBranch","string"),T=(g={variables:{language:null!=I?I:""},skip:void 0!==C||void 0===I},f=(0,l._)({},p,g),u.I(h,f)),F=C||(null!=(w=null==(v=T.data)||null==(b=v.language)||null==(m=b.templateRepl)?void 0:m.id)?w:void 0),L=(0,a.useMemo)(function(){switch(U){case"HACKER_PLAN_REQUIRED":return"Power Up your App to import private repositories";case"SIZE_LIMIT_EXCEEDED":return"This repository is too big to import";case"NOT_FOUND":return"This repository could not be accessed";case"ERROR":return"An error occurred while importing your GitHub repository";default:return U||null}},[U]),G=parseInt(null!=(y=(0,B.pE)("teamId","string"))?y:"",10),N=isNaN(G)?void 0:G;return(0,a.useEffect)(function(){var e=function(e){if(e===_.asPath){var t=Date.now();S.current&&t-S.current<2e3&&(A(!0),setTimeout(function(){return A(!1)},3e3)),S.current=t}};return _.events.on("routeChangeComplete",e),function(){_.events.off("routeChangeComplete",e)}},[_]),(0,i.Y)(e0.A,{title:"Create a new App",children:(0,i.FD)(el.S,{css:e5.container,children:[(0,i.Y)(ei.Y9,{variant:"headerBig",level:1,children:"Create a new App"}),L&&(0,i.Y)(el.S,{css:e5.error,children:(0,i.Y)(et.N,{text:L,icon:(0,i.Y)(eb.A,{}),colorway:"warning"})}),(0,i.Y)(el.S,{css:Y&&e5.flashAnimation,children:(0,i.Y)(eX,{initialPrompt:E,initialCreateMode:P,initialSelectedReplId:F,initialGitHubRepo:k,initialGitBranch:H,initialSelectedTeamOwnerId:N,noPaddingForTypeButtons:!0,trackingSource:"createDialog"})})]})})}},77672:(e,t,n)=>{"use strict";function r(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}n.d(t,{_:()=>r})},78448:(e,t,n)=>{"use strict";n.d(t,{v:()=>eo});var r,i=n(88263),o=n(90629),a=n(17708),l=n(54319),c=n(29935),s=n(83846),u=n(12694),d=n(82643),p=n(71115),h=n(21462),g=n(86105),f=n(63869),m=n(53231),b=n(64583),v=n(48521),w=n(46603),y=(0,b.x)({button:[v.wp.borderRadius(16)]});function _(e){var t=e.item,n=e.onSelect;return(0,i.Y)(w.$n,{css:y.button,iconLeft:t.icon,text:t.title,onClick:function(){n(t),(0,m.u4)(m.AZ.START_WITH_AI_USED,{action:"sample_prompt_selected",prompt:t.prompt,title:t.title})}})}var S=n(55484),R=n(45263),Y=n(38292),A=n(10429),x=n(6088),I=n(84331),C=[v.wp.position.absolute,v.wp.zIndex(2),v.wp.top("50%"),{transform:"translateY(-50%)"},{backgroundColor:R.LU.backgroundRoot,boxShadow:"0 0 8px ".concat(R.LU.backgroundRoot)}],E=(0,g._)(C).concat([{left:0}]),k=(0,g._)(C).concat([{right:0}]),U=(0,b.x)({scrollAreaRoot:[v.wp.flex.row,v.wp.align.center,v.wp.justify.center,v.wp.overflowX("hidden"),v.wp.overflowY("hidden"),{"--scrollbar-size":"0px"},v.wp.position.relative,{'&[data-left-shadow="true"]::before, &[data-right-shadow="true"]::after':{content:'""',position:"absolute",top:0,bottom:0,width:"80px",zIndex:1,pointerEvents:"none"},'&[data-left-shadow="true"]::before':{left:0,background:"linear-gradient(to right, ".concat(R.LU.backgroundRoot," ").concat(40,"px, transparent)")},'&[data-right-shadow="true"]::after':{right:0,background:"linear-gradient(to left, ".concat(R.LU.backgroundRoot," ").concat(40,"px, transparent)")}}],scrollAreaViewport:[v.wp.height("100%"),{"& > div":{height:"100%",width:"max-content",display:"block !important"}}],scrollAreaScrollbar:[v.wp.display.none],scrollAreaThumb:[v.wp.flex.grow(1),v.wp.backgroundColor.outlineDimmest,v.wp.borderRadius(4),v.wp.position.relative,{"&::before":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:"44px",minHeight:"44px"}}],container:[v.wp.position.relative,v.wp.width("100%")],wrapper:[v.wp.height("fit-content"),v.wp.px(2),v.wp.rowWithGap(12),v.wp.flex.wrap,v.wp.align.center,(r={},(0,s._)(r,"--color",R.LU.foregroundDimmer),(0,s._)(r,"&:hover, &:focus-within",(0,s._)({},"--color",R.LU.foregroundDefault)),(0,s._)(r,"& *",{transition:"color 0.2s ease-in-out"}),r),v.wp.position.relative]});function D(e){var t=e.children,n=(0,u._)((0,h.useState)(!1),2),r=n[0],o=n[1],a=(0,u._)((0,h.useState)(!1),2),l=a[0],c=a[1],s=(0,h.useRef)(null),d=(0,h.useRef)(null),p=(0,h.useCallback)(function(){var e=d.current;if(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;o(t>0),c(t<n-r-1)}},[]),g=(0,h.useCallback)(function(){var e=d.current;e&&e.scrollBy({left:-200,behavior:"smooth"})},[]),f=(0,h.useCallback)(function(){var e=d.current;e&&e.scrollBy({left:200,behavior:"smooth"})},[]);return(0,h.useEffect)(function(){var e=d.current;if(e)return p(),e.addEventListener("scroll",p),window.addEventListener("resize",p),function(){e.removeEventListener("scroll",p),window.removeEventListener("resize",p)}},[p]),(0,i.FD)("div",{css:U.container,children:[r?(0,i.Y)(Y.K0,{onClick:g,css:E,"aria-label":"Previous",alt:"Previous",size:28,children:(0,i.Y)(x.A,{})}):null,l?(0,i.Y)(Y.K0,{onClick:f,css:k,"aria-label":"Next",alt:"Next",size:28,children:(0,i.Y)(I.A,{})}):null,(0,i.FD)(S.bL,{css:U.scrollAreaRoot,ref:s,"data-left-shadow":r,"data-right-shadow":l,children:[(0,i.Y)(S.LM,{css:U.scrollAreaViewport,ref:d,children:(0,i.Y)(A.S,{css:U.wrapper,children:t})}),(0,i.Y)(S.Ze,{css:U.scrollAreaScrollbar,orientation:"horizontal",children:(0,i.Y)(S.zi,{css:U.scrollAreaThumb})})]})]})}var P=(0,n(79209).i7)({from:{opacity:0},to:{opacity:1}}),H=(0,b.x)({emptyContainer:[v.wp.minHeight(32)],container:[v.wp.flex.growAndShrink(1),{animation:"".concat(P," 400ms ease-out")}]});function T(e){var t,n,r=e.hasCreationAccess,o=e.onSelected,a=(0,h.useMemo)(function(){return f.Q.map(function(e){return{prompt:e.prompt,icon:e.icon,title:e.title}})},[]),l=(0,h.useMemo)(function(){return(0,g._)(a).sort(function(){return .5-Math.random()}).slice(0,3)},[a]),s=(t=(0,c._)(function(e){return(0,d.YH)(this,function(t){return o(e.prompt),[2]})}),function(e){return t.apply(this,arguments)}),u=(n=(0,c._)(function(e){return(0,d.YH)(this,function(t){return[2,s(e)]})}),function(e){return n.apply(this,arguments)});return r?(0,i.Y)(A.S,{css:H.container,children:(0,i.Y)(D,{children:l.map(function(e){return(0,i.Y)(_,{item:e,onSelect:function(e){return u(e)}},e.title)})})}):(0,i.Y)(A.S,{css:H.emptyContainer})}var F=n(58870),L=n(1278),G=n(66077),N=n(55842),O=n(94372),B=n(74946),M=n(94045),z=n(34384),W=n(98450),V=n(5504),Z=n(80923),K=n(97860),$=n(483),j=n(58767),q=n(76126),J=n(13911),X=n(80762),Q=n(48028),ee=(0,b.x)({centeredTitle:[v.wp.center,v.wp.py(12),(0,s._)({},v.$_.max("tabletMin"),[v.wp.py(0)])],label:[v.wp.flex.column,v.wp.gap(6)],title:[(0,s._)({},v.$_.max("tabletMin"),[v.wp.fontSize(18)])],submitButton:[(0,s._)({},v.$_.max("tabletMin"),{"div span":[v.wp.display.none],"div svg":[v.wp.mr(0)]})]});function et(e){var t,n,r,o,a,l=e.initialPrompt,s=e.currentUser,g=e.shouldAutoFocus,f=e.initialSelectedTeamOwnerId,b=e.onUpsell,v=(0,p.useRouter)(),y=(0,z.ET)().orgId,_=(0,u._)((0,B.p)(s,null!=f?f:y,{includeLegacyTeams:!1}),1)[0],S=(0,M.d)(_,void 0).isPrivate,R=(0,N.y)(),Y=(0,G.H)(_,R),x=(0,O.M)({currentUser:s}),I=x.createAgentRepl,C=x.status,E=x.agentPromptRiverConnectionStatus,k="default"===(0,K.W)()?"creating_repl"===(t=({createReplStatus:C}).createReplStatus)?"Creating App…":"configuring_repl"===t?"Configuring App…":"opening_repl"===t?"Opening App…":"Start building":"Start chat",U="/new"===v.pathname,D=(n=(0,c._)(function(e){var t,n,r;return(0,d.YH)(this,function(i){return t=e.prompt,n=e.attachments,r=e.attachedUrls,I({prompt:t,attachments:null!=n?n:[],attachedUrls:r,requestedStackBlueprint:e.requestedStackBlueprint,isPrivate:S,teamId:"Team"===_.__typename?_.id:void 0,orgId:"Org"===_.__typename?_.id:void 0}),[2]})}),function(e){return n.apply(this,arguments)}),P=(0,u._)((0,h.useState)(null),2),H=P[0],et=P[1],en=(0,Z.A)();(0,h.useEffect)(function(){!en&&g&&H&&H.focus()},[g,H,en]),(0,h.useEffect)(function(){l&&H&&H.setValue(l)},[l,H]);var er=!Y.loading&&!Y.hasAccess,ei=(0,V._P)({controlName:"flag-spice-melange",type:"string",default:"medium"});return(0,W.S)(function(){(0,m.u4)(m.AZ.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:"flag-spice-melange",variant:ei})}),(0,i.FD)(A.S,{gap:12,children:[(0,i.Y)(j.A,{isOpen:"error"===E||"closed"===E,text:"Unable to establish a connection to the AI service. Please refresh the page to continue.",disableHomeButton:!0}),U?null:(0,i.Y)(A.S,{css:ee.centeredTitle,row:!0,align:"center",gap:12,children:(0,i.Y)("label",{htmlFor:"ai-prompt-input",css:ee.label,children:(0,i.FD)(q.Y9,{css:ee.title,level:1,variant:"headerDefault",children:["Hi ",null!=(a=null==(o=s.firstName)?void 0:o.trim())?a:"@"+s.username,", what do you want to make?"]})})}),(0,i.Y)(J.A,{children:(0,i.Y)($.S,{children:(0,i.Y)(L.A,{inputRef:et,persistenceKey:"start-with-ai-input-".concat(s.id),minHeight:84,onSubmit:(r=(0,c._)(function(e,t,n,r){return(0,d.YH)(this,function(i){switch(i.label){case 0:return(0,m.u4)(m.AZ.START_WITH_AI_USED,{action:"prompt_submitted"}),[4,D({prompt:e,attachments:t,attachedUrls:n,requestedStackBlueprint:r})];case 1:return i.sent(),[2]}})}),function(e,t,n,i){return r.apply(this,arguments)}),placeholderText:"Describe an app or site you want to create…",disableClearOnSubmit:!0,status:"idle"!==C||Y.loading||"connecting"===E?"loading":"composing",isSubmitDisabled:!Y.hasAccess||"error"===E||"connecting"===E,submitDisabledReason:Y.loading?"Loading...":Y.hasAccess?null:Y.accessDeniedReason,onUpsell:b,overlay:er?(0,i.Y)(F.Q,{agentAccessDeniedReason:Y.accessDeniedReason,owner:_,usageInfo:R}):void 0,renderSubmitButton:function(e){var t=e.onSubmit,n=e.disabled;return(0,i.Y)(w.$n,{text:k,colorway:"primary",dataCy:"ai-prompt-submit",iconLeft:("Start building"===k||"Start chat"===k)&&"connecting"!==E?(0,i.Y)(Q.A,{}):(0,i.Y)(X.A,{}),css:ee.submitButton,onClick:t,loading:Y.loading,disabled:n||!Y.hasAccess})},onFirstEdit:function(){(0,m.u4)(m.AZ.START_WITH_AI_USED,{action:"agent_input_edited"})}})})}),(0,i.Y)(T,{onSelected:function(e){null==H||H.setValue(e),null==H||H.focus()},hasCreationAccess:Y.hasAccess})]})}var en=n(47651),er=n(54087),ei=(0,b.x)({loadingAndErrorWrapper:[v.wp.display.flex,v.wp.flex.growAndShrink(1),v.wp.center,v.wp.minHeight(200)]});function eo(e){var t=e.initialPrompt,n=e.shouldAutoFocus,r=e.initialSelectedTeamOwnerId,c=e.onUpsell,s=(0,a.uJ)({onError:function(e){o.v4(function(t){t.setTag("create-modal",!0),o.Cp(e)})}}),u=s.data,d=s.loading,p=s.error,h=(0,en.N)().aiPrompt;if(d)return(0,i.Y)(A.S,{css:ei.loadingAndErrorWrapper,children:(0,i.Y)(X.A,{})});if(p||!u||!u.currentUser)return(0,i.Y)(ea,{message:"Something went wrong."});var g=u.currentUser;return(0,i.Y)(l.KH,{currentUserId:g.id,currentUserTimeCreated:g.timeCreated,replId:null,hasAccessToAdvancedModel:!0,children:(0,i.Y)(et,{initialPrompt:null!=t?t:""!==h?h:void 0,currentUser:g,shouldAutoFocus:n,initialSelectedTeamOwnerId:r,onUpsell:c})})}function ea(e){var t=e.message;return(0,i.Y)(A.S,{css:ei.loadingAndErrorWrapper,children:(0,i.Y)(A.S,{children:(0,i.Y)(er.N,{colorway:"red",text:t})})})}},80923:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(95139),i=/iPad|iPhone|iPod/,o=/MacIntel/;function a(){var e=(0,r.m6)(),t=!!i.test(navigator.platform)||!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&o.test(navigator.platform));return e||t}},81526:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var r=n(88263),i=n(79209),o=n(45263),a=n(64583),l=n(48521),c=n(38292),s=n(77089),u=n(10429),d=n(83650),p=n(80762),h=n(82842),g=(0,i.AH)([l.wp.position.absolute,l.wp.center,{top:0,right:0,height:"100%"}]),f=(0,a.x)({root:[l.wp.position.relative,l.wp.flex.shrink(1)],input:[l.wp.pr(32)],displayIcon:[g,l.wp.p(8),{pointerEvents:"none"}],closeIconWrapper:[g,l.wp.p(4)],closeIcon:{"&:hover":{backgroundColor:"".concat(o.LU.backgroundHighest," !important")}}});function m(e){return(0,r.FD)(u.S,{css:f.root,children:[(0,r.Y)(s.pd,{id:e.id,className:e.className,css:f.input,value:e.value,onChange:e.onChange,placeholder:e.placeholder||"Search",name:e.name,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:e.inputRef,autoFocus:e.autoFocus,"data-1p-ignore":!0,"data-lpignore":!0}),e.loading?(0,r.Y)(u.S,{css:f.displayIcon,children:(0,r.Y)(p.A,{})}):null,e.loading||e.value?null:(0,r.Y)(u.S,{css:f.displayIcon,children:(0,r.Y)(h.A,{})}),!e.loading&&e.value?(0,r.Y)(u.S,{css:f.closeIconWrapper,children:(0,r.Y)(c.K0,{alt:"Clear",tooltipBehavior:"hidden",disabled:e.disabled,css:f.closeIcon,onClick:e.onClear,children:(0,r.Y)(d.A,{})})}):null]})}},88766:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(5504);function i(){return(0,r._P)({controlName:"flag-visual-plan-creation"})}},90395:(e,t,n)=>{"use strict";n.d(t,{Kp:()=>M,T2:()=>O,oz:()=>W,tU:()=>L,wb:()=>N});var r=n(83846),i=n(10342),o=n(77672),a=n(17844),l=n(93629),c=n(17459),s=n(12694),u=n(86105),d=n(88263),p=n(21462),h=n(5204),g=n(30314),f=n(33813),m=n(94535),b=n(51846),v=n(45263),w=n(64583),y=n(973),_=n(48521),S=n(10429),R={tab:{selectedColor:"--tab-selected-color",borderBottomColor:"--tab-border-bottom-color"},tabList:{boxShadow:"--tab-list-box-shadow"}},Y=function(e){return"var(".concat(e,")")},A=[_.wp.display.flex,_.wp.reset.button,_.wp.rowWithGap(8),_.wp.p(8),_.wp.borderRadius(4,4,0,0),_.wp.align.center,{marginBottom:-1,color:Y(R.tab.selectedColor),userSelect:"none"}],x=(0,w.x)({tab:(0,u._)(A).concat([y.b.listItem,{paddingBottom:7,borderWidth:0,borderBottomWidth:"1px",borderBottomColor:Y(R.tab.borderBottomColor)}]),tabDisabled:(0,u._)(A).concat([{color:v.LU.foregroundDimmer}]),tabSpan:[{display:"inline-block",lineHeight:1}],tabDivider:[{borderLeft:"1px solid",borderColor:v.LU.outlineDimmest,height:16,display:"inline-block",alignSelf:"center"}],tabList:[_.wp.display.flex,_.wp.flex.growAndShrink(1),_.wp.flex.row,_.wp.align.stretch,{paddingBottom:1,boxShadow:Y(R.tabList.boxShadow)}]}),I=function(e){var t,n=e.isSelected,i=e.isFocused,o="transparent";return i?o=v.LU.accentPrimaryDefault:n&&(o=v.LU.foregroundDefault),t={},(0,r._)(t,R.tab.selectedColor,n?v.LU.foregroundDefault:v.LU.foregroundDimmer),(0,r._)(t,R.tab.borderBottomColor,o),t},C=function(e){var t=e.withUnderline;return(0,r._)({},R.tabList.boxShadow,t?"inset 0 -1px 0 ".concat(v.LU.outlineDimmest):"none")};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"useContext must be used within a Provider with a value";return function(){var n=(0,p.useContext)(e);if(!n)throw Error(t);return n}}var k=(0,p.createContext)(null),U=E(k,"Tab components cannot be rendered outside the <Tabs /> component"),D=(0,p.createContext)(null),P=E(D,"Tab components cannot be rendered outside the <TabList /> component"),H=(0,p.createContext)(null),T=E(H,"TabPanel components cannot be rendered outside the <TabPanels /> component"),F=function(){},L=function(e){var t=e.children,n=e.keyboardActivation,r=e.orientation,i=e.className,o=e.defaultIndex,a=void 0===o?0:o,l=e.onSelectionChange,c=e.selectedIndex,u=e.innerRef,h=(0,s._)((0,m.P)(c,a,void 0===l?F:l),2),g=h[0],f=h[1],b=(0,s._)((0,p.useState)(a),2),v=b[0],w=b[1],y=(0,p.useId)();return(0,d.Y)(k.Provider,{value:{keyboardActivation:void 0===n?"automatic":n,uidPrefix:y,orientation:void 0===r?"horizontal":r,focusedIndex:v,selectedIndex:g,onSelectionChange:f,onFocusChange:w},children:(0,d.Y)("div",{className:i,ref:u,children:t})})};function G(e){var t=(0,i._)({},(0,o._)(e));return(0,d.Y)(S.S,(0,l._)((0,a._)({},t),{css:x.tabDivider}))}var N=function(e){var t=e.children,n=e.withUnderline,r=e.withDividers,i=void 0===r||r,o=(0,c._)(e,["children","withUnderline","withDividers"]),s=U(),u=s.selectedIndex,g=s.onSelectionChange,f=s.orientation,m=s.onFocusChange;return(0,d.Y)("div",(0,l._)((0,a._)({role:"tablist","aria-orientation":f,css:x.tabList,style:C({withUnderline:void 0===n||n})},o),{children:(0,d.Y)(h.n1,{children:(0,d.Y)(k.Provider,{value:(0,l._)((0,a._)({},s),{onFocusChange:function(e){return m(e%p.Children.count(t))},onSelectionChange:function(e){return g(e%p.Children.count(t))}}),children:p.Children.map(t,function(e,t){return(0,p.isValidElement)(e)?(0,d.FD)(d.FK,{children:[i&&t>0&&(0,d.Y)(G,{}),(0,d.Y)(D.Provider,{value:{index:t,isSelected:t===u,onSelectionChange:g},children:e})]}):e})})})}))},O=function(e){var t=e.children,n=e.className,r=e.renderAll,i=U().selectedIndex;return(0,d.Y)("div",{className:n,children:p.Children.map(t,function(e,t){return(0,p.isValidElement)(e)?t===i||r?(0,d.Y)(H.Provider,{value:{index:t},children:e}):null:e})})},B=function(e){var t=T().index,n=U(),r=n.uidPrefix,i=t===n.selectedIndex,o=(0,g.$)(e,{isDisabled:!i});return{tabPanelProps:{role:"tabpanel",id:"".concat(r,"-tabpanel-").concat(t),"aria-labelledby":"".concat(r,"-tab-").concat(t),hidden:!i,tabIndex:o?void 0:0}}},M=function(e){var t=e.children,n=e.className,r=(0,p.useRef)(null),i=B(r).tabPanelProps;return(0,d.Y)("div",(0,l._)((0,a._)({ref:r},i),{className:n,css:_.wp.focusRing,children:t}))},z=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isDisabled,t=P(),n=t.index,r=t.isSelected,i=t.onSelectionChange,o=(0,h.H8)(),a=U(),l=a.uidPrefix,c=a.keyboardActivation,s=a.orientation,u=a.focusedIndex,d=a.onFocusChange,p="automatic"===c,g="horizontal"===s?"ArrowRight":"ArrowDown",f="horizontal"===s?"ArrowLeft":"ArrowUp";return{tabProps:{role:"tab",tabIndex:e?void 0:u===n?0:-1,"aria-disabled":e,"aria-selected":r,id:"".concat(l,"-tab-").concat(n),"aria-controls":"".concat(l,"-tabpanel-").concat(n),onKeyDown:function(t){if(!e&&o){var r=null;switch(t.key){case f:r=o.focusPrevious({wrap:!0});break;case g:r=o.focusNext({wrap:!0});break;case"Home":r=o.focusFirst();break;case"End":r=o.focusLast();break;case"Enter":case" ":i(n)}if(r&&p){var a=r.getAttribute("data-index");a&&i(parseInt(a,10))}}},onClick:function(){e||i(n)},onFocus:function(){d(n)},"data-index":n},isSelected:r,isDisabled:e}},W=(0,p.forwardRef)(function(e,t){var n=e.isDisabled,r=e.children,i=e.iconLeft,o=e.iconRight,s=(0,c._)(e,["isDisabled","children","iconLeft","iconRight"]),u=(0,f.o)({}),p=u.focusProps,h=u.isFocusVisible,g=P().isSelected,m=z({isDisabled:n}).tabProps;return(0,d.FD)("div",(0,l._)((0,a._)({},(0,b.v)(s,{ref:t},m,p)),{css:n?x.tabDisabled:x.tab,style:I({isSelected:g,isFocused:h}),children:[i,(0,d.Y)("span",{css:x.tabSpan,children:r}),o]}))})},94077:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,s:()=>i});var r=function(e){return e[e.AI=0]="AI",e[e.Template=1]="Template",e[e.GitHub=2]="GitHub",e}({}),i=function(e){return e.Visited="visited",e.LanguageChanged="language-changed",e.ImportStarted="import-started",e.ImportEnded="import-ended",e.ConfigDone="config-done",e}({})},97860:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(88766);function i(){return(0,r.e)()?"visualPlanner":"default"}}},e=>{var t=t=>e(e.s=t);e.O(0,[4017,5648,3451,3214,7573,3950,1335,2647,3158,4344,8508,4611,3030,6549,9864,7853,2619,8941,5731,5605,113,9493,4177,8999,2778,9158,3104,7656,6772,1221,4631,3347,3830,6172,4968,6317,9367,3672,6593,636,8792],()=>t(14389)),_N_E=e.O()}]);
//# sourceMappingURL=new-a8d842451a6a52d7.js.map