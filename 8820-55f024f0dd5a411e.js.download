!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6e3f22e0-525a-4fb8-b8ec-c75719f6005d",e._sentryDebugIdIdentifier="sentry-dbid-6e3f22e0-525a-4fb8-b8ec-c75719f6005d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d5236f02"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8820],{11338:(e,n,t)=>{t.d(n,{A:()=>R});var r=t(29935),i=t(12694),o=t(82643),a=t(88263),c=t(21462),s=t(49025),u=t(17844),l=t(12584),d=t(41114),f=t(51026),p=t(95982);function h(){var e=(0,l._)(["\n  query RefetchCyclesBalance {\n    currentUser {\n      id\n      ...CyclesBalanceFragment\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var m={},y=(0,d.J1)(h(),p.eC),v=t(80739),g=t(36640),w=t(67087),b=t(36511),_=t(87429),S=t(76753),C=t(28365),k=t(6790),E=t(58542),Y=t(48521),P=t(38292),x=t(76126),A=t(10429),D=t(56002);function R(e){var n,t=e.cyclesQuantity,l=e.onRequestPaymentMethodSetupForm,d=e.onPurchaseComplete,p=(0,s.useStripe)(),h=(0,E.y)().paymentMethod,R=(0,C.N)().createCheckoutSession,F=(0,k.f)().startPolling,T=(0,i._)((n=(0,u._)({},m,void 0),f._(y,n)),1)[0],I=(0,g.A)().showError,O=(0,i._)((0,c.useState)("Processing..."),2),M=O[0],B=O[1],U=(0,i._)((0,c.useState)(!1),2),N=U[0],H=U[1],L=(0,i._)((0,c.useState)(!1),2),j=L[0],q=L[1];function J(){return(J=(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:var n;if(null==h)return I("A payment method is required."),(0,w.P)(Error("User attempted cycles purchase without a payment method.")),[2];if(null==p)return I("Error loading payment system."),(0,w.P)(Error("User attempted cycles purchase without Stripe loaded.")),[2];return H(!0),B("Checking out..."),[4,R({input:{cyclesQuantity:t},onError:function(e){I(e),H(!1)},onSucceed:(n=(0,r._)(function(e){var n,t;return(0,o.YH)(this,function(r){switch(r.label){case 0:return B("Processing payment..."),[4,p.confirmCardPayment(e.clientSecret)];case 1:if(n=r.sent().error)return I(null!=(t=n.message)?t:"An error occurred. Please try again."),H(!1),[2];return B("Adding Cycles to your wallet..."),F({checkoutSessionId:{checkoutSessionId:e.checkoutSessionId}.checkoutSessionId,onSucceeded:function(){T({fetchPolicy:"network-only",onError:function(e){V("Refetching cycles balance after one-time checkout failed: "+e)},onCompleted:function(){H(!1),q(!0),setTimeout(function(){d()},2e3)}})},onFailed:function(){V("Polling for one-time cycles checkout failed.")},onError:function(e){V("Polling for one-time cycles checkout errored: "+e)}}),[2]}})}),function(e){return n.apply(this,arguments)})})];case 1:return e.sent(),[2]}})})).apply(this,arguments)}var Q=(0,i._)((0,c.useState)(!1),2),z=Q[0],K=Q[1];function V(e){(0,w.P)(e),K(!0),H(!1),T({fetchPolicy:"network-only"})}return z?(0,a.Y)(_.A,{}):(0,a.FD)(A.S,{py:12,px:16,gap:12,children:[(0,a.FD)(x.EY,{variant:"subheadDefault",multiline:!1,children:["Buy ",(0,v.m8)(t)," "]}),(0,a.FD)(A.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,a.Y)(x.EY,{multiline:!1,children:(0,v.QJ)(t)}),(0,a.FD)(A.S,{row:!0,gap:8,align:"center",children:[h?(0,a.Y)(b.l,{last4:h.last4}):(0,a.Y)(x.EY,{css:[Y.wp.color.accentNegativeDefault],multiline:!1,children:"Enter a payment method"}),(0,a.Y)(P.K0,{alt:"Edit",onClick:l,children:(0,a.Y)(D.A,{})})]})]}),(0,a.Y)(S.T,{isMakingPayment:!0,disabled:!h||N||j,initialStateTextOverride:"Confirm Purchase",processingStateTextOverride:M,showProcessingState:N,showSuccessState:j,onClick:function(){return J.apply(this,arguments)}})]})}},14886:(e,n,t)=>{t.d(n,{A:()=>_,E:()=>b});var r=t(83846),i=t(17844),o=t(93629),a=t(17459),c=t(12694),s=t(88263),u=t(21462),l=t(94535),d=t(45263),f=t(973),p=t(48521),h=t(10429),m=t(96283),y=t(70900),v=function(e){var n,t=e.uuid,i=e.isExpanded,o=e.disabled;return n={role:"button",tag:"button"},(0,r._)(n,"aria-expanded",i),(0,r._)(n,"id","".concat("AccordionControl"+t)),(0,r._)(n,"aria-controls","".concat("AccordionContent"+t)),(0,r._)(n,"type","button"),(0,r._)(n,"disabled",o),n},g=function(e){var n=e.toggleOn,t=e.uuid,r=e.onClick,c=e.isExpanded,l=e.children,d=e.className,m=e.disabled,y=void 0!==m&&m,g=(0,a._)(e,["toggleOn","uuid","onClick","isExpanded","children","className","disabled"]),w=(0,u.useMemo)(function(){return v({uuid:t,isExpanded:c,disabled:y})},[t,c,y]);return(0,s.Y)(h.S,(0,o._)((0,i._)({className:d},n?(0,i._)({css:[p.wp.reset.button,f.b.listItem],onClick:y?void 0:r},w,g):g),{children:l}))},w=function(){},b=function(e){var n=e.defaultExpanded,t=e.expanded,r=e.onChange,i=e.disabled,o=void 0!==i&&i,a=(0,c._)((0,l.P)(t,void 0!==n&&n,void 0===r?w:r),2),s=a[0],d=void 0!==s&&s,f=a[1],p=(0,u.useCallback)(function(){o||f(!d)},[o,d,f]);return{isExpanded:d,toggle:p}};function _(e){var n=e.className,t=e.children,a=e.headerContent,c=e.expanded,l=e.defaultExpanded,f=e.variant,_=void 0===f?"default":f,S=e.chevron,C=void 0===S?"end":S,k=e.toggleOn,E=void 0===k?"header":k,Y=e.onClick,P=e.round,x=e.animateChevron,A=void 0===x||x,D=e.disabled,R=void 0!==D&&D,F=e.headerProps,T=(0,u.useId)(),I=b({defaultExpanded:void 0!==l&&l,expanded:c,onChange:void 0===Y?w:Y,disabled:R}),O=I.isExpanded,M=I.toggle,B="large"===_?24:void 0,U="large"===_?[p.wp.py(16),p.wp.px(24),(0,r._)({},(0,m.kT)("mobileMax"),[p.wp.p(16)])]:[p.wp.p(4)],N=(0,u.useMemo)(function(){return v({uuid:T,isExpanded:O,disabled:R})},[T,O,R]);return(0,s.FD)(h.S,{css:[p.wp.flex.column],className:n,children:[(0,s.FD)(g,(0,o._)((0,i._)({},F),{css:[p.wp.display.flex,p.wp.flex.row,p.wp.justify.spaceBetween,p.wp.align.stretch,U,[void 0===P||P?[p.wp.borderRadius(4)]:[p.wp.borderRadius(0)]]],toggleOn:"header"===E,uuid:T,onClick:M,isExpanded:O,disabled:R,children:["start"===C&&(0,s.Y)(g,{css:[p.wp.px(4),p.wp.justify.center],toggleOn:"chevron"===E,uuid:T,onClick:M,isExpanded:O,disabled:R,children:(0,s.Y)(y.A,{size:B,rotate:180*!O,color:R?d.LU.foregroundDimmest:void 0,css:[A&&p.wp.transition.snappy]})}),"function"==typeof a?a({isExpanded:O,toggle:M,toggleAttributes:N}):a,"end"===C&&(0,s.Y)(g,{css:[p.wp.px(4),p.wp.justify.center],toggleOn:"chevron"===E,uuid:T,onClick:M,isExpanded:O,disabled:R,children:(0,s.Y)(y.A,{size:B,rotate:180*!O,color:R?d.LU.foregroundDimmest:void 0,css:[A&&p.wp.transition.snappy]})})]})),O?(0,s.Y)(h.S,{"aria-labelledby":"AccordionControl"+T,id:"AccordionContent"+T,children:t}):null]})}},15503:(e,n,t)=>{t.d(n,{j:()=>s});var r=t(12694),i=t(21462),o=t(66340),a="(prefers-reduced-motion: no-preference)",c=function(){return!window.matchMedia||!window.matchMedia(a).matches};function s(){var e=(0,r._)((0,i.useState)(c),2),n=e[0],t=e[1],s=(0,o.wR)();return(0,i.useEffect)(function(){if(window.matchMedia){var e=window.matchMedia(a),n=function(e){t(!e.matches)};if(null==e?void 0:e.addEventListener)return e.addEventListener("change",n),function(){n&&e.removeEventListener("change",n)}}},[]),!!s||n}},28365:(e,n,t)=>{t.d(n,{N:()=>h});var r=t(29935),i=t(12694),o=t(82643),a=t(17844),c=t(12584),s=t(41114),u=t(50175),l=t(6015);function d(){var e=(0,c._)(["\n  mutation CreateReplitOneTimeCheckoutSession(\n    $input: CreateReplitOneTimeCheckoutSessionInput!\n  ) {\n    createReplitOneTimeCheckoutSession(input: $input) {\n      ... on CreateReplitOneTimeCheckoutSessionResult {\n        checkoutSession {\n          id\n          status\n        }\n        clientSecret\n        currentUser {\n          id\n          paymentMethod {\n            ... on PaymentMethod {\n              ...UserPaymentMethod\n            }\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on PaymentError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var f={},p=(0,s.J1)(d(),l.R);function h(){var e,n,t=(0,i._)((e=(0,a._)({},f,void 0),u.n(p,e)),2),c=t[0],s=t[1].called;return{createCheckoutSession:(n=(0,r._)(function(e){var n,t,r,i,a,s,u,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=e.input,t=e.onError,r=e.onSucceed,[4,c({variables:{input:n}})];case 1:if(a=(i=o.sent()).data,s=i.errors)return t(s[0].message),[2,null];if(!(u=null==a?void 0:a.createReplitOneTimeCheckoutSession))return t("An error occurred. Please try again."),[2,null];if((null==u?void 0:u.__typename)!=="CreateReplitOneTimeCheckoutSessionResult")return t(u.message),[2,null];if(l={clientSecret:u.clientSecret,checkoutSessionId:u.checkoutSession.id},!r)return[3,3];return[4,r(l)];case 2:o.sent(),o.label=3;case 3:return[2,l]}})}),function(e){return n.apply(this,arguments)}),called:s}}},47122:(e,n,t)=>{t.d(n,{C:()=>b});var r=t(83846),i=t(12694),o=t(88263),a=t(21462),c=t(32957),s=t(15503),u=t(45263),l=t(64583),d=t(49045),f=t(48521),p=t(38292),h=t(10429),m=t(83650),y=(0,d.v)(["y","opacity","containerOverflow"]),v=y.cssVars,g=y.styleTokens,w=(0,l.x)({root:[f.wp.position.relative],container:[f.wp.position.absolute,f.wp.borderRadius(8),f.wp.bottom(0),f.wp.minWidth("max(100%, 240px)"),{transform:"translateX(-50%)",overflow:g.containerOverflow,opacity:g.opacity,transition:"opacity ".concat(500,"ms ease-out")},f.wp.right("50%"),f.wp.left("50%")],content:[f.wp.backgroundColor.backgroundHigher,f.wp.border({color:u.LU.outlineDefault,width:1}),f.wp.borderRadius(8),{transform:"translateY(".concat(g.y,")"),transition:"transform ".concat(500,"ms ease-out"),boxShadow:"0 0 20px ".concat(u.LU.black)}],iconButton:[f.wp.position.absolute,f.wp.top(4),f.wp.right(4)]});function b(e){var n,t=e.children,u=e.isOpen,l=e.onRequestClose,d=(0,s.j)(),f=(0,i._)(t,2),y=f[0],g=f[1],b=(0,i._)((0,a.useState)(d?"0%":"100%"),2),_=b[0],S=b[1],C=(0,i._)((0,a.useState)(+!d),2),k=C[0],E=C[1],Y=(0,i._)((0,a.useState)(u),2),P=Y[0],x=Y[1],A=(0,i._)((0,a.useState)(u?"visible":"hidden"),2),D=A[0],R=A[1],F=(0,c.A)(function(){l()},[]);return(0,a.useEffect)(function(){P&&(E(1),S("0%"))},[P]),(0,a.useLayoutEffect)(function(){if(u){if(x(!0),d)return void R("visible");var e=setTimeout(function(){R("visible")},500);return function(){clearTimeout(e)}}E(+!d),S(d?"0%":"100%"),R("hidden");var n=setTimeout(function(){x(!1)},500);return function(){clearTimeout(n)}},[u,d]),(0,o.FD)(h.S,{css:w.root,style:(n={},(0,r._)(n,v.y,_),(0,r._)(n,v.opacity,k),(0,r._)(n,v.containerOverflow,D),n),children:[y,P?(0,o.Y)("div",{css:w.container,children:(0,o.FD)("div",{ref:F,css:w.content,children:[(0,o.Y)(p.K0,{alt:"Close",tooltipBehavior:"hidden",onClick:l,css:w.iconButton,children:(0,o.Y)(m.A,{})}),g]})}):null]})}},63336:(e,n,t)=>{t.d(n,{o:()=>u});var r=t(88263),i=t(48521),o=t(38292),a=t(76126),c=t(10429),s=t(6034);function u(e){var n=e.title,t=e.onBack,u=e.children;return(0,r.FD)(c.S,{gap:16,children:[(0,r.FD)(c.S,{row:!0,gap:8,align:"center",children:[t?(0,r.Y)(o.K0,{alt:"Back",onClick:t,size:24,children:(0,r.Y)(s.A,{size:24})}):null,(0,r.Y)(a.EY,{variant:"subheadBig",multiline:!1,children:n})]}),(0,r.Y)(c.S,{css:[i.wp.flex.grow(1)],justify:"center",children:u})]})}},67563:(e,n,t)=>{t.d(n,{V:()=>T});var r=t(29935),i=t(17844),o=t(93629),a=t(12694),c=t(82643),s=t(88263),u=t(21462),l=t(12584),d=t(41114),f=t(51026),p=t(95982),h=t(6015);function m(){var e=(0,l._)(["\n  query RefetchCyclesBalancePurchaseForm {\n    currentUser {\n      id\n      ...CyclesBalanceFragment\n      paymentMethod {\n        ... on PaymentMethod {\n          ...UserPaymentMethod\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}var y={},v=(0,d.J1)(m(),p.eC,h.R),g=t(19224),w=t(79784),b=t(80739),_=t(67087),S=t(87429),C=t(73485),k=t(28365),E=t(20241),Y=t(6790),P=t(83762),x=t(48521),A=t(54087),D=t(76126),R=t(10429),F=t(62362);function T(e){var n,t=e.cyclesQuantity,l=e.onSuccess,d=(0,k.N)().createCheckoutSession;function p(){return(p=(0,r._)(function(e){var n,i,o,a,s,u;return(0,c.YH)(this,function(f){switch(f.label){case 0:return n=e.stripe,i=e.elements,o=e.onError,a=e.onSubmitComplete,[4,i.submit()];case 1:var p;if(s=f.sent().error)return u=(0,P.YY)(s),o(u),[2];return d({input:{cyclesQuantity:t},onError:function(e){o(e),(0,_.P)("Error in CyclesPurchaseForm when creating Checkout Session: "+e)},onSucceed:(p=(0,r._)(function(e){var t,s,u,d;return(0,c.YH)(this,function(f){switch(f.label){case 0:return t=e.clientSecret,s=e.checkoutSessionId,[4,n.confirmPayment({clientSecret:t,elements:i,confirmParams:P.nx,redirect:"if_required"})];case 1:var p,y;return(u=f.sent().error)?(d=(0,P.YY)(u),o(d)):(y=(p={onSubmitComplete:a,checkoutSessionId:s}).onSubmitComplete,h({checkoutSessionId:p.checkoutSessionId,onFailed:function(){H("Polling for one-time cycles checkout failed.")},onError:function(e){H("Polling for one-time cycles checkout errored: "+e)},onSucceeded:(0,r._)(function(){return(0,c.YH)(this,function(e){return m({fetchPolicy:"network-only",onError:function(e){H("Refetching cycles balance errored: "+e)},onCompleted:function(){y(),setTimeout(function(){l()},2e3)}}),[2]})})})),[2]}})}),function(e){return p.apply(this,arguments)})}),[2]}})})).apply(this,arguments)}var h=(0,Y.f)().startPolling,m=(0,a._)((n=(0,i._)({},y,void 0),f._(v,n)),1)[0],T=(0,a._)((0,u.useState)(!1),2),I=T[0],O=T[1],M=(0,E.Q)(),B=M.isOnTrialPlan,U=M.trialWillCancel,N=M.isPro;function H(e){(0,_.P)(e),O(!0),m({fetchPolicy:"network-only"})}return I?(0,s.Y)(S.A,{}):(0,s.FD)(R.S,{children:[B&&!U?(0,s.Y)(A.N,{colorway:"primary",icon:(0,s.Y)(F.A,{}),text:(0,s.FD)(s.FK,{children:["Adding a payment method will set your Replit"," ",N?w.en:w.BH," membership to auto-renew at the end of the trial. Cancel anytime from your"," ",(0,s.Y)("a",{css:x.wp.color.foregroundDefault,href:"/account#billing",target:"_blank",children:"account settings"}),"."]})}):null,(0,s.Y)(C.A,{elementsOptions:(0,o._)((0,i._)({},P.Ny),{mode:"payment",amount:(0,g.IZ)(t),setup_future_usage:"off_session"}),isPayment:!0,submitButtonText:"Complete Purchase",onSubmit:function(e){return p.apply(this,arguments)},disclaimerTextAction:"completing this purchase and adding this payment method",purchaseItemDetails:(0,s.FD)(R.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,s.FD)(D.EY,{variant:"subheadDefault",color:"dimmer",multiline:!1,children:[(0,b.m8)(t)," "]}),(0,s.Y)(D.EY,{variant:"subheadDefault",multiline:!1,children:(0,b.QJ)(t)})]})})]})}},68868:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(17844),i=t(93629),o=t(88263),a=t(71117);function c(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M5 3.75A1.25 1.25 0 0 0 3.75 5v14.19l2.72-2.72a.75.75 0 0 1 .53-.22h12A1.25 1.25 0 0 0 20.25 15V5A1.25 1.25 0 0 0 19 3.75H5Zm-1.945-.695A2.75 2.75 0 0 1 5 2.25h14A2.75 2.75 0 0 1 21.75 5v10A2.75 2.75 0 0 1 19 17.75H7.31l-3.78 3.78A.75.75 0 0 1 2.25 21V5c0-.73.29-1.429.805-1.945Z",clipRule:"evenodd"})}))}},70900:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(17844),i=t(93629),o=t(88263),a=t(71117);function c(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M11.47 8.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 1 1-1.06 1.06L12 10.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6-6Z",clipRule:"evenodd"})}))}},87429:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(88263),i=t(48521),o=t(76126),a=t(10429);function c(){return(0,r.FD)(a.S,{p:12,children:[(0,r.Y)(o.EY,{variant:"subheadDefault",css:[i.wp.color.accentNegativeDefault],children:"There was an error checking on the status of your purchase."}),(0,r.FD)(o.EY,{children:["Please contact"," ",(0,r.Y)("a",{href:"mailto:support@replit.com",children:"support@replit.com"})," if you weren't granted the Cycles you paid for."]})]})}},95982:(e,n,t)=>{t.d(n,{Jt:()=>d,eC:()=>l,lR:()=>f});var r=t(17844),i=t(12584),o=t(41114),a=t(86997);function c(){var e=(0,i._)(["\n  fragment CyclesBalanceFragment on CurrentUser {\n    id\n    cycles {\n      balance {\n        __typename\n        ... on CyclesBalance {\n          cycles\n          lastUpdated\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on ServiceUnavailable {\n          message\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=(0,i._)(["\n  query CyclesBalance {\n    currentUser {\n      id\n      ...CyclesBalanceFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var u={},l=(0,o.J1)(c()),d=(0,o.J1)(s(),l);function f(e){var n=(0,r._)({},u,e);return a.I(d,n)}}}]);
//# sourceMappingURL=8820-55f024f0dd5a411e.js.map